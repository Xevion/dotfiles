# This template's argument is the shell as a string (bash, zsh).

# general configuration
export EDITOR="micro"
export GPG_TTY=$(tty)
export MICRO_TRUECOLOR=1
export TERM=xterm-256color  # fixes terminal colors when ssh'ing into laptop

# hishtory
export HISHTORY_SERVER="https://hsh.***REMOVED***"
export PATH="$PATH:$HOME/.hishtory"
{{ if eq . "zsh" -}}
source $HOME/.hishtory/config.zsh
{{ else if eq . "bash" -}}
source $HOME/.hishtory/config.sh
{{- else -}}
{{ fail "Unexpected shell." }}
{{- end }}

export PATH=$PATH:~/.local/bin
export PATH=$PATH:/usr/local/go/bin  # Go
export PATH="$HOME/go/bin/:$PATH"  # Go-installed tools
export PATH="$HOME/.local/share/bob/nvim-bin:$PATH"  # Bob, the Neovim package manager
. "$HOME/.deno/env"  # Deno
. "$HOME/.cargo/env"  # Rustup + Cargo + Cargo-installed tools
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"  # Brew
command -v rbenv &> /dev/null && eval "$(rbenv init -)"  # rbenv for Ruby

# pyenv, python version manager
export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
# pyenv virtual-env
eval "$(pyenv virtualenv-init -)"

# bun
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"
[ -s "$HOME/.bun/_bun" ] && source "$HOME/.bun/_bun"

# java version manager
if [ -d $HOME/.jenv/bin ]; then
	export PATH="$HOME/.jenv/bin:$PATH"
	if command -v jenv &> /dev/null
	then
		eval "$(jenv init -)"
	fi
fi

# pnpm
export PNPM_HOME="$HOME/.local/share/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac

# perl
if [ -d "$HOME/perl5" ]; then
    PATH="$HOME/perl5/bin${PATH:+:${PATH}}"; export PATH;
    PERL5LIB="$HOME/perl5/lib/perl5${PERL5LIB:+:${PERL5LIB}}"; export PERL5LIB;
    PERL_LOCAL_LIB_ROOT="$HOME/perl5${PERL_LOCAL_LIB_ROOT:+:${PERL_LOCAL_LIB_ROOT}}"; export PERL_LOCAL_LIB_ROOT;
    PERL_MB_OPT="--install_base \"$HOME/perl5\""; export PERL_MB_OPT;
    PERL_MM_OPT="INSTALL_BASE=$HOME/perl5"; export PERL_MM_OPT;
fi

# spicetify
if [ -d "$HOME/.spicetify" ]; then
    export PATH=$PATH:$HOME/.spicetify
fi

# disable screen blanking
# source $(brew --prefix)/share/zsh/site-functions/_todoist_peco
# xset s off && xset -dpms