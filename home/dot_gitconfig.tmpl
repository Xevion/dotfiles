# Git Configuration - Platform-aware
# Managed by chezmoi

{{ if or (eq .chezmoi.os "windows") .wsl }}
# Windows/WSL Configuration - Ryan Walters (Professional)
[user]
	name = Ryan Walters
	email = ryan@walters.to
	signingkey = 301511AAD64FA365

[commit]
	gpgsign = true

{{ if eq .chezmoi.os "windows" }}
# Windows-specific: Use GPG4win
[gpg]
	program = C:\\Users\\Xevion\\scoop\\apps\\gpg4win\\current\\GnuPG\\bin\\gpg.exe

[credential "https://github.com"]
	helper =
	helper = !'C:\\Program Files\\GitHub CLI\\gh.exe' auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !'C:\\Program Files\\GitHub CLI\\gh.exe' auth git-credential
{{ else }}
# WSL-specific: Use Windows GPG via symlink
[gpg]
	program = /usr/local/bin/gpg

[credential "https://github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential
{{ end }}

{{ else }}
# Native Linux/macOS Configuration - Xevion (Personal)
[user]
	name = Xevion
	email = xevion@xevion.dev
	# No GPG signing - no key available for this identity

[credential "https://github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !/usr/bin/gh auth git-credential

{{ end }}

# Common configuration for all platforms
[core]
	editor = micro
	pager = delta

[interactive]
	diffFilter = delta --color-only

[delta]
	navigate = true  # use n and N to move between diff sections

[merge]
	conflictStyle = zdiff3
	renameLimit = 10000

[diff]
	renameLimit = 10000
	renames = true
	renameThreshold = 25
	noprefix = false

[init]
	defaultBranch = master

[filter.lfs]
	required = true
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
[status]
	showUntrackedFiles = all
	submoduleSummary = true
